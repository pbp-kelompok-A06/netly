{% load static %}

<header class="fixed w-full z-50 backdrop-blur-lg bg-white/70 border-b border-gray-100">
  <div class="max-w-7xl mx-auto flex justify-between items-center py-3 px-6">
    
    <!-- Logo -->
    <a href="{% url 'homepage:homepage' %}" class="flex items-center gap-3">
      <div class="w-10 h-10 rounded-lg flex items-center justify-center bg-[#243153]">
        <span class="text-[#D7FC64] font-extrabold">N</span>
      </div>
      <span class="text-xl font-extrabold text-[#243153]">Netly</span>
    </a>

    <!-- Menu -->
    <nav class="hidden md:flex gap-8 text-sm font-medium text-[#243153]">
      <a href="{% url 'homepage:homepage' %}" 
         class="hover:text-[#b6de3a] {% if request.resolver_match.url_name == 'homepage' %}text-[#b6de3a]{% endif %}">
        Home
      </a>
      <a href="{% url 'booking:show_booking_list' %}" 
         class="hover:text-[#b6de3a] {% if 'booking' in request.resolver_match.app_name %}text-[#b6de3a]{% endif %}">
        My Booking
      </a>
      <a href="{% url 'community:forum' %}" 
         class="hover:text-[#b6de3a] {% if request.resolver_match.app_name == 'community' %}text-[#b6de3a]{% endif %}">
        Community
      </a>
      <a href="{% url 'event:show_events' %}" 
         class="hover:text-[#b6de3a] {% if request.resolver_match.app_name == 'event' %}text-[#b6de3a]{% endif %}">
        Event & Tournament
      </a>
      <a href="{% url 'homepage:favorite-list' %}" 
         class="hover:text-[#b6de3a] {% if request.resolver_match.url_name == 'favorite-list' %}text-[#b6de3a]{% endif %}">
        Favorites
      </a>
    </nav>

    <!-- Auth Section -->
    {% if user.is_authenticated %}
    <div class="flex items-center gap-3 text-sm text-[#243153] font-medium">
        <!-- Avatar -->
        <div class="w-10 h-10 rounded-full overflow-hidden flex-shrink-0">
            <img 
                src="{% if user.profile.profile_picture %}{{ user.profile.profile_picture }}{% else %}{% static 'img/default-avatar.png' %}{% endif %}" 
                alt="{{ user.profile.fullname|default:user.username }}" 
                class="w-full h-full object-cover"
            />
        </div>

        <!-- Name + Role -->
        <div class="leading-tight">
            <div>Hello, {{ user.profile.fullname }}</div>
            {% if user.profile.role == "admin" %}
                <div class="text-xs text-gray-500">(Admin)</div>
            {% endif %}
        </div>

        <!-- Logout Button -->
        <form method="post" action="{% url 'authentication_user:logout' %}">
            {% csrf_token %}
            <button type="submit" class="bg-[#D7FC64] text-[#243153] font-medium px-3 py-1 rounded-lg hover:bg-[#c1f148]">
                Logout
            </button>
        </form>
    </div>
    {% else %}
    <div class="flex gap-3 text-sm">
        <a href="{% url 'authentication_user:login' %}" class="hover:text-[#D7FC64]">Login</a>
        <a href="{% url 'authentication_user:register' %}" class="hover:text-[#D7FC64]">Register</a>
    </div>
    {% endif %}

  </div>
</header>

<!-- Spacer supaya konten gak ketutupan -->
<div class="h-16"></div>
