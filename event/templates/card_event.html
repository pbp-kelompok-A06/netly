{% load static %}
<div class="bg-white shadow-lg rounded-lg overflow-hidden transition-transform duration-300 hover:scale-105 flex flex-col" data-event-id="{{ event.id }}"> 
    
    <div class="relative w-full h-48">
        {% if event.image_url %}
            <img class="h-48 w-full object-cover event-image" 
                src="{{ event.image_url }}" 
                alt="Event image for {{ event.name }}">
        {% else %}
            <img class="h-48 w-full object-cover event-image" 
                src="{% static 'image/default.jpg' %}" 
                alt="Default event image">
        {% endif %}

        {% if user.is_authenticated and user.profile in event.participant.all %}
        <div class="absolute top-2 right-2 z-10"> 
            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-[#D7FC64] text-[#243153]">
                Registered
            </span>
        </div>
        {% endif %}
    </div>

    <div class="p-6 flex flex-col flex-grow">
        <h2 class="text-xl font-bold text-gray-900 mb-2 line-clamp-2 event-name">{{ event.name }}</h2>
        <div class="flex items-start text-sm text-gray-600 mb-2">
            <svg class="w-4 h-4 text-gray-500 mr-2 flex-shrink-0 mt-0.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5" />
            </svg>
            <span class="event-date">{{ event.start_date|date:"D, d M Y" }}</span>
        </div>

        <div class="flex items-start text-sm text-gray-600 mb-4">
            <svg class="w-4 h-4 text-gray-500 mr-2 flex-shrink-0 mt-0.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
            </svg>
            <span class="event-location">{{ event.location }}</span>
        </div>
        
        <div class="mt-auto pt-4 border-t border-gray-100">
            <a href="{% url 'event:event_detail' event.pk %}" 
               class="block w-full text-center px-4 py-2 border border-transparent text-sm font-medium rounded-full shadow-sm text-[#D7FC64] bg-[#243153] hover:bg-opacity-90 mb-3"> 
                View Details
            </a>

            <div class="flex justify-between items-center text-sm">
                <div>
                    {% if user.is_authenticated %}
                        <span class="font-medium text-gray-800">Your event</span>
                    {% endif %}
                </div>
                <div class="flex space-x-2">
                    {% if user.is_authenticated %}
                    <button onclick="showEditModal('{{ event.id }}')" class="font-medium text-gray-600 hover:text-gray-900 transition-colors px-3 py-1.5 rounded-full border border-gray-300"> {# Added padding, rounded, and border #}
                        Edit
                    </button>
                    <button onclick="showDeleteModal('{{ event.id }}')" class="font-medium text-red-600 hover:text-red-800 transition-colors px-3 py-1.5 rounded-full border border-red-600"> {# Added padding, rounded, and border #}
                        Delete
                    </button>
                    {% endif %}
                </div>
            </div>
        </div>
    </div> 
</div>